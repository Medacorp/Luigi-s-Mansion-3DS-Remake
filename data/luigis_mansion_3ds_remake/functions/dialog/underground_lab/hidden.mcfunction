execute if entity @s[scores={Dialog=56}] run tellraw @a[tag=same_room,advancements={luigis_mansion:lab/unlocked_hidden_mansion=true,luigis_mansion_3ds_remake:lab/unlocked_gcn_hidden_mansion=false}] {"translate":"luigis_mansion:dialog.underground_lab.hidden","color":"green","clickEvent":{"action":"run_command","value":"/trigger MansionChoice set -2"}}
execute if entity @s[scores={Dialog=56}] run tellraw @a[tag=same_room,advancements={luigis_mansion:lab/unlocked_hidden_mansion=true,luigis_mansion_3ds_remake:lab/unlocked_gcn_hidden_mansion=true}] {"translate":"luigis_mansion_3ds_remake:dialog.underground_lab.3ds_hidden","color":"green","clickEvent":{"action":"run_command","value":"/trigger MansionChoice set -2"}}
execute if entity @s[scores={Dialog=58}] if entity @a[scores={MansionChoice=-2},limit=1] unless score #mansion_type Selected matches 1 if entity @a[scores={Room=1..},gamemode=!spectator,limit=1] run tag @s add cannot_change
execute if entity @s[scores={Dialog=58}] if entity @a[scores={MansionChoice=-2},limit=1] unless score #mansion_type Selected matches 1 if entity @a[x=615,y=92,z=-68,dx=133,dy=60,dz=151,gamemode=!spectator,scores={Room=0},limit=1] run tag @s add cannot_change
execute if entity @s[scores={Dialog=58},tag=!cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] as @a[scores={Room=1..},gamemode=!spectator] run function luigis_mansion:room/underground_lab/warp_to
execute if entity @s[scores={Dialog=58},tag=!cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] if score #players Totals matches 1 run tellraw @a[tag=same_room] {"translate":"chat.type.text","with":[{"translate":"luigis_mansion:entity.e_gadd","color":"green"},{"translate":"luigis_mansion:dialog.underground_lab.hidden.1","with":[{"selector":"@a[gamemode=!spectator]"}]}]}
execute if entity @s[scores={Dialog=58},tag=!cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] if score #players Totals matches 2.. run tellraw @a[tag=same_room] {"translate":"chat.type.text","with":[{"translate":"luigis_mansion:entity.e_gadd","color":"green"},{"translate":"luigis_mansion:dialog.underground_lab.hidden.1.more"}]}
execute if entity @s[scores={Dialog=58},tag=!cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] run playsound luigis_mansion:entity.e_gadd.talk.yahboh_yahboh neutral @a[tag=same_room] ~ ~ ~ 1
execute if entity @s[scores={Dialog=58},tag=cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] run tellraw @a[tag=same_room] {"translate":"chat.type.text","with":[{"translate":"luigis_mansion:entity.e_gadd","color":"green"},{"translate":"luigis_mansion:dialog.underground_lab.hidden.1.alt"}]}
execute if entity @s[scores={Dialog=58},tag=cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] run playsound luigis_mansion:entity.e_gadd.talk.nohjeebeedoggy neutral @a[tag=same_room] ~ ~ ~ 1
execute if entity @s[scores={Dialog=114},tag=!cannot_change] if entity @a[scores={MansionChoice=-2},limit=1] as @a[tag=same_room] run function luigis_mansion_3ds_remake:room/hidden/load
execute if entity @s[scores={Dialog=114}] if entity @a[scores={MansionChoice=-2},limit=1] run scoreboard players set @s Dialog -1