execute if data storage luigis_mansion:data current_state.current_data.rooms.hallway_22{cleared:1b} if entity @s[tag=!blackout] unless entity @s[scores={MusicType=9}] unless entity @s[scores={MusicType=20..21}] unless entity @s[scores={MusicType=14}] unless entity @s[scores={MusicType=19}] unless entity @s[scores={MusicType=27..30}] unless entity @s[scores={MusicType=-1}] run function luigis_mansion:other/music/set/light
execute unless data storage luigis_mansion:data current_state.current_data.rooms.hallway_22{cleared:1b} unless entity @s[scores={MusicType=6}] unless entity @s[scores={MusicType=20..21}] unless entity @s[scores={MusicType=14}] unless entity @s[scores={MusicType=19}] unless entity @s[scores={MusicType=27..30}] unless entity @s[scores={MusicType=-1}] run function luigis_mansion:other/music/set/hallway
execute if entity @s[tag=blackout] unless entity @s[scores={MusicType=6}] unless entity @s[scores={MusicType=20..21}] unless entity @s[scores={MusicType=14}] unless entity @s[scores={MusicType=19}] unless entity @s[scores={MusicType=27..30}] unless entity @s[scores={MusicType=-1}] run function luigis_mansion:other/music/set/hallway

execute if data storage luigis_mansion:data current_state.current_data.rooms.hallway_22{seen:0b} run function luigis_mansion_3ds_remake:room/hidden/hallway_22/set_seen

execute store result score #temp Boos run data get storage luigis_mansion:data current_state.current_data.boo_counter
execute if entity @s[x=655.0,y=2,z=-21.0,dx=4,dy=7,dz=7] unless score #temp Boos matches 40.. unless entity @e[tag=king_boo,tag=warp,limit=1] run summon minecraft:armor_stand 656 2 -18 {CustomName:'{"translate":"luigis_mansion:entity.king_boo"}',Invisible:1b,NoGravity:1b,CustomNameVisible:1b,Invulnerable:1b,ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Unbreakable:1b,Damage:1,CustomModelData:80}}],HandItems:[{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Unbreakable:1b,Damage:2,CustomModelData:80}},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Unbreakable:1b,Damage:3,CustomModelData:80}}],Pose:{RightArm:[-90.0f,90.0f,0.0f],LeftArm:[-90.0f,-90.0f,0.0f],Head:[0.0f,0.0f,0.0f]},Tags:["king_boo","warp","ghost","portrait_ghost"],DisabledSlots:2039583}
scoreboard players reset #temp Boos
execute if entity @s[x=655.5,y=2,z=-17.5,distance=..4] if data storage luigis_mansion:data current_state.current_data.obtained_keys{secret_altar:1b} run function luigis_mansion_3ds_remake:room/hidden/hallway_22/clear_blockade